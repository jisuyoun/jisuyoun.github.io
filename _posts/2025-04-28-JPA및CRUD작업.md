---
layout: single
title: "[Java] JPA ν™κ²½μ„Έν… - JPA λ° CRUD μ‘μ—…"
published: true
categories:
  - Java
tag:
  - Study
  - Java
---

## JPAλ€?
JPA(Java Persistence API)λ” μλ°”μ—μ„ κ°μ²΄-κ΄€κ³„ λ§¤ν•‘(ORM)μ„ μ„ν• ν‘μ¤€ APIλ‹¤.

JPAλ¥Ό μ‚¬μ©ν•λ©΄ μλ°” κ°μ²΄μ™€ λ°μ΄ν„°λ² μ΄μ¤ κ°„μ λ§¤ν•‘μ„ μ‰½κ² κ΄€λ¦¬ν•  μ μμΌλ©°, SQL μΏΌλ¦¬λ¥Ό μ§μ ‘ μ‘μ„±ν•μ§€ μ•κ³ λ„ λ°μ΄ν„°λ² μ΄μ¤ μ‘μ—…μ„ μν–‰ν•  μ μλ‹¤.

JPAλ” μ—”ν‹°ν‹°(Entity)λΌκ³  λ¶λ¦¬λ” μλ°” ν΄λμ¤λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ² μ΄μ¤ ν…μ΄λΈ”μ„ λ‚νƒ€λ‚΄κ³ , μ΄λ¥Ό ν†µν•΄ λ°μ΄ν„°λ² μ΄μ¤μ— λ€ν• CRUD(μƒμ„±, μ΅°ν, μ—…λ°μ΄νΈ, μ‚­μ ) μ‘μ—…μ„ μν–‰ν•  μ μλ‹¤.

## μƒμ„±μ μ£Όμ… VS μ§μ ‘ μƒμ„±
### μμ΅΄μ„± μ£Όμ… - μƒμ„±μ μ£Όμ…
```
public class TestService {
	private EntityManager entityManager;
	
	public TestService(EntityManager entityManager) {
		this.entityManager = entityManager;
	}
}
```
μ΄ λ°©μ‹μ€ EntityManagerλ¥Ό μ™Έλ¶€μ—μ„ μ£Όμ…λ°›λ” λ°©λ²•μ΄λ‹¤.

μ € μ μ—°ν•κ³ , ν…μ¤νΈν•κΈ° μ‰¬μ΄ κµ¬μ΅°λ¥Ό μ κ³µν•μ—¬ μ£Όλ΅ Springκ³Ό κ°™μ€ ν”„λ μ„μ›ν¬μ—μ„ λ§μ΄ μ‚¬μ©λλ‹¤.

**μ¥μ **
- **ν…μ¤νΈ μ©μ΄μ„±:** ν…μ¤νΈν•  λ• Mock κ°μ²΄λ¥Ό μ£Όμ…ν•κΈ° μ‰½λ‹¤.
- **μ μ—°μ„±:** EntityManagerλ¥Ό νΈμ¶ν•λ” λ‹¤λ¥Έ ν΄λμ¤μ—μ„ κ΄€λ¦¬ν•  μ μμ–΄ μ„λ΅ λ‹¤λ¥Έ κµ¬ν„μ²΄λ¥Ό μ‰½κ² κµμ²΄ν•  μ μλ‹¤.

[JPA ν™κ²½ μ„Έν…-μμ΅΄μ„± μ£Όμ… λ°©μ‹μ‹](https://jisuyoun.github.io/data/Kafka%EA%B0%9C%EB%85%90%EC%A0%95%EB%A6%AC/)

### μμ΅΄μ„± μ£Όμ… - μ§μ ‘ μƒμ„±
```
public class TestService {
    private EntityManager entityManager;

    public TestService() {
        this.entityManager = JPAUtil.getEntityManager();
    }
}
```
μ΄ λ°©μ‹μ€ ν΄λμ¤ λ‚΄λ¶€μ—μ„ EntityManagerλ¥Ό μƒμ„±ν•λ” λ°©λ²•μ΄λ‹¤.

μ½”λ“λ” κ°„λ‹¨ν•μ§€λ§, ν…μ¤νΈμ™€ μ μ—°μ„±μ΄ λ–¨μ–΄μ§€κ³ , TestServiceκ°€ EntityManagerμ μƒμ„± λ° κ΄€λ¦¬ μ±…μ„λ„ κ°€μ§€κ² λλ―€λ΅, λ‹¨μΌ μ±…μ„ μ›μΉ™(SRP)λ¥Ό μ„λ°ν•  κ°€λ¥μ„±μ΄ μλ‹¤.

**μ¥μ **
- **κ°„λ‹¨ν•¨:** ν΄λμ¤κ°€ μμ²΄μ μΌλ΅ EntityManagerλ¥Ό μƒμ„±ν•λ―€λ΅ μ½”λ“κ°€ κ°„λ‹¨ν•λ‹¤.
- **μ§μ ‘μ μΈ κ΄€λ¦¬:** EntityManagerμ μƒλ…μ£ΌκΈ°λ¥Ό ν΄λμ¤ λ‚΄λ¶€μ—μ„ κ΄€λ¦¬ν•  μ μλ‹¤.

π’΅ λ‹¨μν• ν”„λ΅μ νΈκ±°λ‚ λΉ λ¥΄κ² κµ¬ν„ν•΄μ•Ό ν•  κ²½μ°μ—λ” **μ§μ ‘ μƒμ„±**μ„, λ€κ·λ¨ μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄λ‚ ν…μ¤νΈλ¥Ό κ³ λ ¤ν•λ‹¤λ©΄ **μμ΅΄μ„± μ£Όμ… λ°©μ‹**μ„ μ„ νƒν•λ” κ²ƒμ΄ μΆ‹λ‹¤.
{: .notice--info}

[JPA ν™κ²½ μ„Έν…-μ§μ ‘ μƒμ„± λ°©μ‹](https://jisuyoun.github.io/data/Kafka%EA%B0%9C%EB%85%90%EC%A0%95%EB%A6%AC/)